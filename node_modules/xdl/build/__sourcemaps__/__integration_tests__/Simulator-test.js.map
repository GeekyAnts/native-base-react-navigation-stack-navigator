{"version":3,"sources":["__integration_tests__/Simulator-test.js"],"names":["jasmine","DEFAULT_TIMEOUT_INTERVAL","xdl","require","describe","xit","async","let","Simulator","await","_isSimulatorInstalledAsync","Error","_isSimulatorRunningAsync","_quitSimulatorAsync","delayAsync","_openSimulatorAsync","_isExpoAppInstalledOnCurrentBootedSimulatorAsync","_uninstallExpoAppFromSimulatorAsync","_installExpoOnSimulatorAsync","_openUrlInSimulatorAsync"],"mappings":";;;;AAEA;AAAA;AAAA;;;;;;AAFAA,QAAQC,wBAARD,GAAmC,KAAnCA;;AAIA,MAAME,MAAMC,QAAQ,QAARA,CAAZ;;AAEAC,SAAS,WAATA,EAAsB,MAAM;AAC1BC,MAAI,6BAAJA,oBAAmCC,aAAY;AAC7CC,QAAIC,YAAYN,IAAIM,SAApBD;AACA,QAAI,EAACE,MAAMD,UAAUE,0BAAVF,EAAP,CAAJ,EAAmD;AACjD,YAAM,IAAIG,KAAJ,CAAU,kEAAV,CAAN;AACF;;AAEA;AACA,QAAIF,MAAMD,UAAUI,wBAAVJ,EAAV,EAAgD;AAC9CC,YAAMD,UAAUK,mBAAVL,EAANC;AACF;;AAEAA,UAAMK,iDAAW,IAAXA,CAANL,CAX6C,CAWvB;;AAEtB;AACAA,UAAMD,UAAUO,mBAAVP,EAANC;;AAEAA,UAAMK,iDAAW,IAAXA,CAANL,CAhB6C,CAgBvB;;AAEtB,QAAI,EAACA,MAAMD,UAAUI,wBAAVJ,EAAP,CAAJ,EAAiD;AAC/C,YAAM,IAAIG,KAAJ,CAAU,oFAAV,CAAN;AACF;;AAEA,QAAIF,MAAMD,UAAUQ,gDAAVR,EAAV,EAAwE;AACtEC,YAAMD,UAAUS,mCAAVT,EAANC;AACF;AACA,QAAIA,MAAMD,UAAUQ,gDAAVR,EAAV,EAAwE;AACtE,YAAM,IAAIG,KAAJ,CAAU,6DAAV,CAAN;AACF;AACAF,UAAMD,UAAUU,4BAAVV,EAANC;AACA,QAAI,EAACA,MAAMD,UAAUQ,gDAAVR,EAAP,CAAJ,EAAyE;AACvE,YAAM,IAAIG,KAAJ,CAAU,6DAAV,CAAN;AACF;;AAEAF,UAAMD,UAAUW,wBAAVX,CAAmC,qCAAnCA,CAANC;;AAEAA,UAAMK,iDAAW,IAAXA,CAANL;;AAEAA,UAAMD,UAAUS,mCAAVT,EAANC;AACA,QAAIA,MAAMD,UAAUQ,gDAAVR,EAAV,EAAwE;AACtE,YAAM,IAAIG,KAAJ,CAAU,iEAAV,CAAN;AACF;;AAEAF,UAAMD,UAAUK,mBAAVL,EAANC;AACA,QAAIA,MAAMD,UAAUI,wBAAVJ,EAAV,EAAgD;AAC9C,YAAM,IAAIG,KAAJ,CAAU,0CAAV,CAAN;AACF;AACD,GA9CDN;AA+CD,CAhDDD","file":"../../__integration_tests__/Simulator-test.js","sourcesContent":["jasmine.DEFAULT_TIMEOUT_INTERVAL = 40000;\n\nimport delayAsync from 'delay-async';\n\nconst xdl = require('../xdl');\n\ndescribe('simulator', () => {\n  xit('opens and loads url in expo', async () => {\n    let Simulator = xdl.Simulator;\n    if (!await Simulator._isSimulatorInstalledAsync()) {\n      throw new Error(\"Simulator isn't installed on this computer; can't run this test.\");\n    }\n\n    // Quit the simulator to start the test\n    if (await Simulator._isSimulatorRunningAsync()) {\n      await Simulator._quitSimulatorAsync();\n    }\n\n    await delayAsync(1000); // 3 seconds\n\n    // Open the simulator\n    await Simulator._openSimulatorAsync();\n\n    await delayAsync(9000); // 3 seconds\n\n    if (!await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\"Simulator should be running after being opened, but we're detecting that it isn't.\");\n    }\n\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      await Simulator._uninstallExpoAppFromSimulatorAsync();\n    }\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Expo app shouldn't be installed on this simulator but it is\");\n    }\n    await Simulator._installExpoOnSimulatorAsync();\n    if (!await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Expo app should be installed on this simulator but it isn't\");\n    }\n\n    await Simulator._openUrlInSimulatorAsync('exp://exp.host/@exponent/fluxpybird');\n\n    await delayAsync(6000);\n\n    await Simulator._uninstallExpoAppFromSimulatorAsync();\n    if (await Simulator._isExpoAppInstalledOnCurrentBootedSimulatorAsync()) {\n      throw new Error(\"Expo app shouldn't be installed on this simulator but it is (2)\");\n    }\n\n    await Simulator._quitSimulatorAsync();\n    if (await Simulator._isSimulatorRunningAsync()) {\n      throw new Error(\"Simulator shouldn't be running but it is\");\n    }\n  });\n});\n"],"sourceRoot":"/xdl/src"}